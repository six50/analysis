# SixFifty Poll Tracker

### Poll Trackers
The following images are generated by this repo.
![Poll tracker (1200x600)](https://s3-eu-west-1.amazonaws.com/sixfifty/polls-1200x600.png "Poll tracker (1200x600)")
![Poll tracker (600x300)](https://s3-eu-west-1.amazonaws.com/sixfifty/polls-600x300.png "Poll tracker (600x300)")

### Requirements
Ensure you have the following R libraries installed:
- `dplyr`
- `extrafont`
- `ggplot2`
- `grid`
- `lubridate`
- `tidyr`
```

You will also need to install the Open Sans font. [This download link might work for you](https://fonts.google.com/download?family=Open%20Sans), otherwise [this StackOverflow post](http://stackoverflow.com/questions/14170113/is-it-possible-to-download-open-sans-as-available-on-google-fonts-to-use-on-my-d) contains instructions with screenshots.

### Scripts
From this directory, running `Rscript poll_tracker.R` will:
1. Download [`polls.csv`](https://s3-eu-west-1.amazonaws.com/sixfifty/polls.csv) and reshape it into the format required for visualisation.
2. Use ggplot to visualise polls plus add a smoothed LOESS line to each party's polling.
3. Export in two sizes: 1200x600 and 600x300 into the current local directory.
4. Upload using the AWS CLI into SixFifty's S3 bucket (this won't work unless you have AWS tokens plus required write permissions on this bucket).
